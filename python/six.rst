Six
===

Writing Python code that works the same in Python 2 & 3, using six as necessary.

+-------------------------------+-----------------------------------+---------------------------------------------+
| Python 2                      | Python 3                          | Both                                        |
+-------------------------------+-----------------------------------+---------------------------------------------+
| from urlparse import urlparse | from urllib.parse import urlparse | from six.moves.urllib.parse import urlparse |
+-------------------------------+-----------------------------------+---------------------------------------------+
| dict.iteritems()              | dict.items()                      | six.iteritems(dict)                         |
+-------------------------------+-----------------------------------+---------------------------------------------+
| dict.iterkeys()               | dict.keys()                       | six.iterkeys(dict)                          |
+-------------------------------+-----------------------------------+---------------------------------------------+
| dict.keys()                   | list(dict.keys())                 | list(dict.keys())                           |
+-------------------------------+-----------------------------------+---------------------------------------------+
| Exception.message             | Exception.args[0]                 | Exception.args[0]                           |
+-------------------------------+-----------------------------------+---------------------------------------------+
| isinstance(x, str)            | isinstance(x, bytes)              | isinstance(x, six.binary_type)              |
+-------------------------------+-----------------------------------+---------------------------------------------+
| filter(condition, iterable)   | [x for x in iterable              | [x for x in iterable                        |
|                               |  if condition(x)]                 |  if condition(x)]                           |
+-------------------------------+-----------------------------------+---------------------------------------------+
| map(function, iterable)       | [function(x)                      | [function(x)                                |
|                               |  for x in iterable]               |  for x in iterable]                         |
+-------------------------------+-----------------------------------+---------------------------------------------+
| self.assertItemsEqual(        | self.assertCountEqual(            | six.assertCountEqual(                       |
|    random_order(items),       |   random_order(items),            |    self,                                    |
|    random_order(more_items))  |   random_order(more_items))       |    random_order(items),                     |
|                               |                                   |    random_order(other_items)                |
+-------------------------------+-----------------------------------+---------------------------------------------+
| string.lowercase              | string.ascii_lowercase            | string.ascii_lowercase                      |
+-------------------------------+-----------------------------------+---------------------------------------------+
| class Foo(BaseClass):         | class Foo(BaseClass,              | @six.add_metaclass(MetaClass)               |
|    __metaclass__ = MetaClass  |           metaclass=MetaClass):   | class Foo(BaseClass)                        |
+-------------------------------+-----------------------------------+---------------------------------------------+
| str                           | bytes                             | six.binary_type                             |
+-------------------------------+-----------------------------------+---------------------------------------------+
| unicode                       | str                               | six.text_type                               |
+-------------------------------+-----------------------------------+---------------------------------------------+
| [int, long]                   | [int]                             | six.integer_types                           |
+-------------------------------+-----------------------------------+---------------------------------------------+
| iterator.next()               | next(iterator)                    | six.next(iterator)                          |
+-------------------------------+-----------------------------------+---------------------------------------------+
| zip(a, b).__iter__()          | zip(a, b)                         | ???????????                                 |
+-------------------------------+-----------------------------------+---------------------------------------------+
| zip(a, b)                     | list(zip(a, b))                   | list(zip(a, b))                             |
+-------------------------------+-----------------------------------+---------------------------------------------+
